# VisionQuant-Pro é¡¹ç›®æ·±åº¦åˆ†æä¸æ‰¹é‡åˆ†ææ–¹æ¡ˆ

## é—®é¢˜ä¸€ï¼šå…³äºé¡¹ç›®æ·±åº¦çš„æ€è€ƒ

### å½“å‰é¡¹ç›®ç°çŠ¶åˆ†æ

**å¹¿åº¦éƒ¨åˆ†ï¼ˆæ•°æ®æœé›†ä¸å‘ˆç°ï¼‰**ï¼š
- âœ… å¤šæºæ•°æ®æ•´åˆï¼ˆAkShareã€Google Newsã€Yahoo Financeï¼‰
- âœ… å¤šç»´åº¦ä¿¡æ¯å±•ç¤ºï¼ˆè§†è§‰ã€è´¢åŠ¡ã€æŠ€æœ¯ã€èˆ†æƒ…ï¼‰
- âœ… Webç•Œé¢äº¤äº’
- âœ… PDFæŠ¥å‘Šç”Ÿæˆ

**æ·±åº¦éƒ¨åˆ†ï¼ˆç®—æ³•ä¸æ¨¡å‹ï¼‰**ï¼š
- âœ… Kçº¿å½¢æ€å­¦ä¹ ï¼ˆCAEè‡ªç¼–ç å™¨ï¼‰
- âœ… ç›¸ä¼¼åº¦æœç´¢ï¼ˆFAISSï¼‰
- âœ… å¤šå› å­è¯„åˆ†ç³»ç»Ÿ
- âš ï¸ AIå†³ç­–ï¼ˆä¸»è¦æ˜¯Promptå·¥ç¨‹ï¼Œæ¨¡å‹èƒ½åŠ›ä¾èµ–å¤–éƒ¨APIï¼‰

### æ·±åº¦æå‡å»ºè®®

#### æ–¹æ¡ˆAï¼šåœ¨å½“å‰é¡¹ç›®ä¸­å¢åŠ æ·±åº¦æ¨¡å—ï¼ˆæ¨èï¼‰

**ä¼˜åŠ¿**ï¼š
- ä¿æŒé¡¹ç›®å®Œæ•´æ€§
- å¤ç”¨ç°æœ‰åŸºç¡€è®¾æ–½ï¼ˆæ•°æ®ã€ç´¢å¼•ã€Webç•Œé¢ï¼‰
- æ¸è¿›å¼è¿­ä»£ï¼Œé£é™©å¯æ§

**å¯ä»¥å¢åŠ çš„æ·±åº¦æ¨¡å—**ï¼š

1. **æ—¶åºé¢„æµ‹æ¨¡å‹**
   - ä½¿ç”¨LSTM/Transformeré¢„æµ‹æœªæ¥Næ—¥ä»·æ ¼
   - ç»“åˆè§†è§‰å½¢æ€ç‰¹å¾ä½œä¸ºè¾“å…¥
   - æ–‡ä»¶ï¼š`src/models/time_series_predictor.py`

2. **å¼ºåŒ–å­¦ä¹ äº¤æ˜“ç­–ç•¥**
   - ä½¿ç”¨DQN/PPOè®­ç»ƒäº¤æ˜“Agent
   - å¥–åŠ±å‡½æ•°ï¼šæ”¶ç›Šç‡ã€å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤
   - æ–‡ä»¶ï¼š`src/strategies/rl_strategy.py`

3. **å› å­æŒ–æ˜ä¸ç»„åˆä¼˜åŒ–**
   - ä½¿ç”¨é—ä¼ ç®—æ³•/ç²’å­ç¾¤ä¼˜åŒ–å› å­æƒé‡
   - å¤šå› å­æ¨¡å‹å›æµ‹ä¸éªŒè¯
   - æ–‡ä»¶ï¼š`src/strategies/factor_optimizer.py`

4. **é£é™©æ¨¡å‹**
   - VaRï¼ˆé£é™©ä»·å€¼ï¼‰è®¡ç®—
   - ç»„åˆé£é™©åˆ†æ•£åˆ†æ
   - æ–‡ä»¶ï¼š`src/strategies/risk_model.py`

#### æ–¹æ¡ˆBï¼šæ–°å¼€æœæ¨ç±»é¡¹ç›®ï¼ˆä¸æ¨èå½“å‰é˜¶æ®µï¼‰

**åŸå› **ï¼š
- å½“å‰é¡¹ç›®æ¶æ„å·²ç»æ¯”è¾ƒå®Œæ•´
- æœæ¨é¡¹ç›®éœ€è¦å®Œå…¨ä¸åŒçš„æŠ€æœ¯æ ˆï¼ˆæ¨èç³»ç»Ÿã€ç”¨æˆ·ç”»åƒç­‰ï¼‰
- åˆ†æ•£ç²¾åŠ›ï¼Œä¸åˆ©äºé¡¹ç›®æ·±åº¦ç§¯ç´¯

**å»ºè®®**ï¼š
- **å…ˆå®Œæˆæ–¹æ¡ˆA**ï¼Œåœ¨å½“å‰é¡¹ç›®ä¸­å¢åŠ 1-2ä¸ªæ·±åº¦æ¨¡å—
- **ç­‰å½“å‰é¡¹ç›®ç¨³å®šå**ï¼Œå†è€ƒè™‘æ–°é¡¹ç›®

### å…·ä½“å®æ–½å»ºè®®

**çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰**ï¼š
1. æ·»åŠ æ—¶åºé¢„æµ‹æ¨¡å‹ï¼ˆLSTM/Transformerï¼‰
2. ä¼˜åŒ–ç°æœ‰CAEæ¨¡å‹ï¼ˆå¢åŠ æ³¨æ„åŠ›æœºåˆ¶ï¼‰

**ä¸­æœŸï¼ˆ1-2æœˆï¼‰**ï¼š
1. å®ç°å¼ºåŒ–å­¦ä¹ äº¤æ˜“ç­–ç•¥
2. å¢åŠ å› å­æŒ–æ˜ä¸ä¼˜åŒ–æ¨¡å—

**é•¿æœŸï¼ˆ3-6æœˆï¼‰**ï¼š
1. æ¨¡å‹é›†æˆä¸èåˆ
2. å®ç›˜éªŒè¯ä¸è°ƒä¼˜

---

## é—®é¢˜äºŒï¼šæ‰¹é‡åˆ†æåŠŸèƒ½å®ç°æ–¹æ¡ˆ

### æ€§èƒ½åˆ†æ

**å½“å‰å•è‚¡ç¥¨åˆ†æè€—æ—¶ï¼ˆ20-40ç§’ï¼‰åˆ†è§£**ï¼š

| æ“ä½œ | è€—æ—¶ | å¯ä¼˜åŒ– |
|------|------|--------|
| æ•°æ®è·å–ï¼ˆAkShareï¼‰ | 3-5ç§’ | âœ… å¹¶è¡Œè¯·æ±‚ |
| Kçº¿å›¾ç”Ÿæˆ | 1-2ç§’ | âœ… æ‰¹é‡ç”Ÿæˆ |
| è§†è§‰æœç´¢ï¼ˆFAISSï¼‰ | 0.5-1ç§’ | âœ… æ‰¹é‡æœç´¢ |
| è½¨è¿¹è®¡ç®— | 2-3ç§’ | âœ… å¹¶è¡Œè®¡ç®— |
| è´¢åŠ¡æ•°æ®è·å– | 2-4ç§’ | âœ… å¹¶è¡Œè¯·æ±‚ |
| æ–°é—»è·å– | 3-5ç§’ | âœ… å¹¶è¡Œè¯·æ±‚ |
| æŠ€æœ¯æŒ‡æ ‡è®¡ç®— | 0.5ç§’ | - |
| AIåˆ†æï¼ˆGeminiï¼‰ | 5-10ç§’ | âš ï¸ APIé™æµ |
| å¯¹æ¯”å›¾ç”Ÿæˆ | 1-2ç§’ | âœ… æ‰¹é‡ç”Ÿæˆ |

**ç“¶é¢ˆ**ï¼š
- **ç½‘ç»œIO**ï¼šæ•°æ®è·å–ã€æ–°é—»è·å–ï¼ˆå¯å¹¶è¡Œï¼‰
- **AI APIè°ƒç”¨**ï¼šGemini APIï¼ˆæœ‰é¢‘ç‡é™åˆ¶ï¼Œéœ€æ§åˆ¶å¹¶å‘ï¼‰

### æ‰¹é‡åˆ†æå®ç°æ–¹æ¡ˆ

#### æ–¹æ¡ˆè®¾è®¡

**åŠŸèƒ½éœ€æ±‚**ï¼š
1. æ‰¹é‡è¾“å…¥30åªè‚¡ç¥¨ä»£ç 
2. ç”Ÿæˆæ±‡æ€»æŠ¥å‘Šï¼ˆå“ªäº›è¯¥ä¹°ã€ä»“ä½ç»„åˆï¼‰
3. æ¯åªè‚¡ç¥¨ç”Ÿæˆè¶…é“¾æ¥ï¼Œç‚¹å‡»è·³è½¬è¯¦ç»†åˆ†æ

**æŠ€æœ¯å®ç°**ï¼š

```python
# 1. æ‰¹é‡åˆ†æå¼•æ“
class BatchAnalyzer:
    def __init__(self):
        self.max_workers = 10  # å¹¶å‘æ•°ï¼ˆæ§åˆ¶APIé™æµï¼‰
        self.results_cache = {}  # ç»“æœç¼“å­˜
        
    def analyze_batch(self, symbols):
        # å¹¶è¡Œåˆ†æï¼ˆæ§åˆ¶å¹¶å‘æ•°ï¼‰
        with ThreadPoolExecutor(max_workers=self.max_workers) as executor:
            futures = {executor.submit(self._analyze_single, sym): sym 
                      for sym in symbols}
            results = {}
            for future in as_completed(futures):
                symbol = futures[future]
                try:
                    results[symbol] = future.result()
                except Exception as e:
                    results[symbol] = {"error": str(e)}
        return results
    
    def _analyze_single(self, symbol):
        # å¤ç”¨ç°æœ‰çš„å•è‚¡ç¥¨åˆ†æé€»è¾‘
        # ä½†è·³è¿‡å¯è§†åŒ–éƒ¨åˆ†ï¼ˆå¯¹æ¯”å›¾ç­‰ï¼‰
        pass
```

#### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**1. å¹¶è¡Œå¤„ç†**
- ä½¿ç”¨ `ThreadPoolExecutor` æˆ– `ProcessPoolExecutor`
- æ§åˆ¶å¹¶å‘æ•°ï¼ˆé¿å…APIé™æµï¼‰
- é¢„è®¡30åªè‚¡ç¥¨ï¼š**5-8åˆ†é’Ÿ**ï¼ˆå¹¶è¡Œåï¼‰

**2. ç»“æœç¼“å­˜**
- ç›¸åŒè‚¡ç¥¨åœ¨åŒä¸€å¤©åªåˆ†æä¸€æ¬¡
- ä½¿ç”¨Redisæˆ–æ–‡ä»¶ç¼“å­˜
- é¢„è®¡30åªè‚¡ç¥¨ï¼š**2-3åˆ†é’Ÿ**ï¼ˆæœ‰ç¼“å­˜æ—¶ï¼‰

**3. ç®€åŒ–åˆ†ææµç¨‹**
- æ‰¹é‡æ¨¡å¼è·³è¿‡éƒ¨åˆ†å¯è§†åŒ–ï¼ˆå¯¹æ¯”å›¾ã€è¯¦ç»†å›¾è¡¨ï¼‰
- åªä¿ç•™æ ¸å¿ƒæ•°æ®ï¼ˆè¯„åˆ†ã€å†³ç­–ã€ä»“ä½å»ºè®®ï¼‰
- é¢„è®¡30åªè‚¡ç¥¨ï¼š**3-5åˆ†é’Ÿ**ï¼ˆç®€åŒ–ç‰ˆï¼‰

**4. å¼‚æ­¥å¤„ç†ï¼ˆæ¨èï¼‰**
- ä½¿ç”¨Streamlitçš„å¼‚æ­¥ä»»åŠ¡
- åå°å¤„ç†ï¼Œå®æ—¶æ›´æ–°è¿›åº¦
- ç”¨æˆ·ä½“éªŒæ›´å¥½

### å®ç°éš¾åº¦è¯„ä¼°

**éš¾åº¦ï¼šâ­â­â­ï¼ˆä¸­ç­‰ï¼‰**

**éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶**ï¼š
1. `web/app.py` - æ·»åŠ æ‰¹é‡åˆ†æç•Œé¢
2. `src/strategies/batch_analyzer.py` - æ–°å»ºæ‰¹é‡åˆ†æå¼•æ“
3. `src/strategies/portfolio_optimizer.py` - æ–°å»ºç»„åˆä¼˜åŒ–å™¨

**é¢„è®¡å¼€å‘æ—¶é—´**ï¼š
- åŸºç¡€ç‰ˆæœ¬ï¼š2-3å¤©
- å®Œæ•´ç‰ˆæœ¬ï¼ˆå«ç»„åˆä¼˜åŒ–ï¼‰ï¼š5-7å¤©

### è¯¦ç»†å®ç°ä»£ç æ¡†æ¶

#### 1. æ‰¹é‡åˆ†æå¼•æ“

```python
# src/strategies/batch_analyzer.py
import concurrent.futures
from typing import List, Dict
import pandas as pd
from datetime import datetime

class BatchAnalyzer:
    def __init__(self, engines):
        self.engines = engines
        self.max_workers = 8  # æ§åˆ¶å¹¶å‘ï¼Œé¿å…APIé™æµ
        
    def analyze_batch(self, symbols: List[str], 
                     skip_visualization: bool = True) -> Dict:
        """
        æ‰¹é‡åˆ†æè‚¡ç¥¨
        
        Args:
            symbols: è‚¡ç¥¨ä»£ç åˆ—è¡¨
            skip_visualization: æ˜¯å¦è·³è¿‡å¯è§†åŒ–ï¼ˆåŠ é€Ÿï¼‰
            
        Returns:
            {
                "601899": {
                    "name": "ç´«é‡‘çŸ¿ä¸š",
                    "score": 7.5,
                    "action": "BUY",
                    "confidence": 85,
                    "win_rate": 65.0,
                    "recommended_weight": 0.15,
                    ...
                },
                ...
            }
        """
        results = {}
        
        # ä½¿ç”¨çº¿ç¨‹æ± å¹¶è¡Œå¤„ç†
        with concurrent.futures.ThreadPoolExecutor(
            max_workers=self.max_workers
        ) as executor:
            futures = {
                executor.submit(self._analyze_single, sym, skip_visualization): sym
                for sym in symbols
            }
            
            for future in concurrent.futures.as_completed(futures):
                symbol = futures[future]
                try:
                    results[symbol] = future.result()
                except Exception as e:
                    results[symbol] = {
                        "error": str(e),
                        "symbol": symbol
                    }
        
        return results
    
    def _analyze_single(self, symbol: str, 
                       skip_visualization: bool) -> Dict:
        """å•è‚¡ç¥¨åˆ†æï¼ˆå¤ç”¨ç°æœ‰é€»è¾‘ï¼‰"""
        # 1. æ•°æ®è·å–
        df = self.engines["loader"].get_stock_data(symbol)
        if df.empty:
            return {"error": "æ•°æ®è·å–å¤±è´¥", "symbol": symbol}
        
        fund_data = self.engines["fund"].get_stock_fundamentals(symbol)
        stock_name = fund_data.get('name', symbol)
        
        # 2. è§†è§‰æœç´¢ï¼ˆç®€åŒ–ç‰ˆï¼Œä¸ç”Ÿæˆå¯¹æ¯”å›¾ï¼‰
        q_p = os.path.join(PROJECT_ROOT, "data", f"temp_{symbol}.png")
        mpf.plot(df.tail(20), type='candle', 
                savefig=dict(fname=q_p, dpi=50), 
                figsize=(3, 3), axisoff=True)
        matches = self.engines["vision"].search_similar_patterns(q_p, top_k=10)
        
        # 3. è®¡ç®—èƒœç‡ï¼ˆç®€åŒ–ç‰ˆï¼‰
        win_rate = self._calculate_win_rate(matches, symbol)
        
        # 4. æŠ€æœ¯æŒ‡æ ‡
        df_f = self.engines["factor"]._add_technical_indicators(df)
        
        # 5. è¯„åˆ†
        total_score, initial_action, s_details = \
            self.engines["factor"].get_scorecard(
                win_rate, df_f.iloc[-1], fund_data
            )
        
        # 6. AIåˆ†æï¼ˆç®€åŒ–ç‰ˆï¼Œåªè·å–æ ¸å¿ƒå†³ç­–ï¼‰
        report = self.engines["agent"].analyze(
            symbol, total_score, initial_action,
            {"win_rate": win_rate},
            df_f.iloc[-1].to_dict(), fund_data, ""
        )
        
        return {
            "symbol": symbol,
            "name": stock_name,
            "score": total_score,
            "action": report.action,
            "confidence": report.confidence,
            "win_rate": win_rate,
            "roe": fund_data.get('roe', 0),
            "pe_ttm": fund_data.get('pe_ttm', 0),
            "reasoning": report.reasoning[:200],  # æˆªæ–­
            "timestamp": datetime.now().isoformat()
        }
    
    def _calculate_win_rate(self, matches, symbol):
        """è®¡ç®—èƒœç‡ï¼ˆç®€åŒ–ç‰ˆï¼‰"""
        # å¤ç”¨ç°æœ‰é€»è¾‘ï¼Œä½†è·³è¿‡è¯¦ç»†è½¨è¿¹è®¡ç®—
        # ...
        return 50.0  # å ä½
```

#### 2. ç»„åˆä¼˜åŒ–å™¨

```python
# src/strategies/portfolio_optimizer.py
import numpy as np
from scipy.optimize import minimize

class PortfolioOptimizer:
    def __init__(self):
        pass
    
    def optimize_weights(self, analysis_results: Dict, 
                        max_positions: int = 10,
                        min_weight: float = 0.05,
                        max_weight: float = 0.20) -> Dict:
        """
        åŸºäºåˆ†æç»“æœä¼˜åŒ–ä»“ä½ç»„åˆ
        
        Args:
            analysis_results: æ‰¹é‡åˆ†æç»“æœ
            max_positions: æœ€å¤§æŒä»“æ•°é‡
            min_weight: æœ€å°ä»“ä½ï¼ˆ5%ï¼‰
            max_weight: æœ€å¤§ä»“ä½ï¼ˆ20%ï¼‰
            
        Returns:
            {
                "601899": 0.15,  # 15%ä»“ä½
                "600519": 0.12,  # 12%ä»“ä½
                ...
            }
        """
        # 1. ç­›é€‰BUYä¿¡å·
        buy_stocks = {
            k: v for k, v in analysis_results.items()
            if v.get('action') == 'BUY' and v.get('score', 0) >= 7
        }
        
        # 2. æŒ‰è¯„åˆ†æ’åºï¼Œå–Top N
        sorted_stocks = sorted(
            buy_stocks.items(),
            key=lambda x: x[1].get('score', 0),
            reverse=True
        )[:max_positions]
        
        # 3. ä½¿ç”¨å‡å€¼-æ–¹å·®ä¼˜åŒ–ï¼ˆæˆ–ç®€åŒ–ç‰ˆï¼šæŒ‰è¯„åˆ†åˆ†é…ï¼‰
        weights = self._calculate_weights(sorted_stocks, 
                                        min_weight, max_weight)
        
        return weights
    
    def _calculate_weights(self, stocks, min_w, max_w):
        """è®¡ç®—æƒé‡ï¼ˆç®€åŒ–ç‰ˆï¼šæŒ‰è¯„åˆ†æ¯”ä¾‹åˆ†é…ï¼‰"""
        scores = [s[1].get('score', 0) for s in stocks]
        total_score = sum(scores)
        
        weights = {}
        for (symbol, data), score in zip(stocks, scores):
            # åŸºç¡€æƒé‡ = è¯„åˆ†å æ¯”
            base_weight = score / total_score if total_score > 0 else 0
            
            # é™åˆ¶åœ¨[min_w, max_w]èŒƒå›´å†…
            weight = max(min_w, min(max_w, base_weight))
            weights[symbol] = round(weight, 3)
        
        # å½’ä¸€åŒ–ï¼ˆç¡®ä¿æ€»å’Œä¸º1ï¼‰
        total = sum(weights.values())
        if total > 0:
            weights = {k: v/total for k, v in weights.items()}
        
        return weights
```

#### 3. Webç•Œé¢ä¿®æ”¹

```python
# web/app.py ä¸­æ·»åŠ æ‰¹é‡åˆ†ææ¨¡å¼

# åœ¨ä¾§è¾¹æ æ·»åŠ æ‰¹é‡åˆ†æé€‰é¡¹
mode = st.radio("åŠŸèƒ½æ¨¡å—:", (
    "ğŸ” å®ç›˜æ·±åº¦ç ”åˆ¤", 
    "ğŸ§ª ç­–ç•¥æ¨¡æ‹Ÿå›æµ‹",
    "ğŸ“Š æ‰¹é‡ç»„åˆåˆ†æ"  # æ–°å¢
))

# æ‰¹é‡åˆ†æç•Œé¢
if mode == "ğŸ“Š æ‰¹é‡ç»„åˆåˆ†æ":
    st.subheader("æ‰¹é‡ç»„åˆåˆ†æ")
    
    # è¾“å…¥æ¡†
    symbols_input = st.text_area(
        "è¯·è¾“å…¥è‚¡ç¥¨ä»£ç ï¼ˆæ¯è¡Œä¸€ä¸ªï¼Œæœ€å¤š30åªï¼‰",
        value="601899\n600519\n000001",
        height=150
    )
    
    symbols = [s.strip().zfill(6) for s in symbols_input.split('\n') 
               if s.strip()][:30]
    
    if st.button("ğŸš€ å¼€å§‹æ‰¹é‡åˆ†æ", type="primary"):
        # æ˜¾ç¤ºè¿›åº¦æ¡
        progress_bar = st.progress(0)
        status_text = st.empty()
        
        # æ‰¹é‡åˆ†æ
        from src.strategies.batch_analyzer import BatchAnalyzer
        from src.strategies.portfolio_optimizer import PortfolioOptimizer
        
        analyzer = BatchAnalyzer(eng)
        optimizer = PortfolioOptimizer()
        
        # åˆ†æï¼ˆå¸¦è¿›åº¦æ›´æ–°ï¼‰
        results = {}
        for i, symbol in enumerate(symbols):
            status_text.text(f"æ­£åœ¨åˆ†æ {symbol} ({i+1}/{len(symbols)})...")
            results[symbol] = analyzer._analyze_single(symbol, True)
            progress_bar.progress((i+1) / len(symbols))
        
        # ç»„åˆä¼˜åŒ–
        weights = optimizer.optimize_weights(results)
        
        # æ˜¾ç¤ºæ±‡æ€»æŠ¥å‘Š
        st.success("âœ… æ‰¹é‡åˆ†æå®Œæˆï¼")
        
        # 1. æ¨èä¹°å…¥åˆ—è¡¨
        st.subheader("ğŸ“ˆ æ¨èä¹°å…¥ç»„åˆ")
        buy_stocks = {k: v for k, v in results.items() 
                     if v.get('action') == 'BUY'}
        
        # 2. ä»“ä½åˆ†é…
        st.subheader("ğŸ’° å»ºè®®ä»“ä½åˆ†é…")
        for symbol, weight in sorted(weights.items(), 
                                    key=lambda x: x[1], 
                                    reverse=True):
            data = results[symbol]
            col1, col2, col3 = st.columns([2, 1, 1])
            with col1:
                # è¶…é“¾æ¥ï¼ˆä½¿ç”¨Streamlitçš„é¡µé¢è·¯ç”±ï¼‰
                st.markdown(
                    f"[{data['name']} ({symbol})](?symbol={symbol}&mode=single)",
                    unsafe_allow_html=True
                )
            with col2:
                st.metric("è¯„åˆ†", f"{data['score']}/10")
            with col3:
                st.metric("å»ºè®®ä»“ä½", f"{weight*100:.1f}%")
        
        # ä¿å­˜ç»“æœåˆ°session_stateï¼Œä¾›è¯¦ç»†é¡µé¢ä½¿ç”¨
        st.session_state.batch_results = results
```

### æ€§èƒ½é¢„ä¼°

**30åªè‚¡ç¥¨æ‰¹é‡åˆ†ææ—¶é—´é¢„ä¼°**ï¼š

| æ–¹æ¡ˆ | æ—¶é—´ | è¯´æ˜ |
|------|------|------|
| ä¸²è¡Œï¼ˆå½“å‰ï¼‰ | 10-20åˆ†é’Ÿ | 20-40ç§’ Ã— 30 |
| å¹¶è¡Œï¼ˆ8çº¿ç¨‹ï¼‰ | 5-8åˆ†é’Ÿ | è€ƒè™‘APIé™æµ |
| å¹¶è¡Œ+ç¼“å­˜ | 2-3åˆ†é’Ÿ | éƒ¨åˆ†è‚¡ç¥¨å·²æœ‰ç¼“å­˜ |
| å¹¶è¡Œ+ç®€åŒ– | 3-5åˆ†é’Ÿ | è·³è¿‡å¯è§†åŒ– |

**æ¨èæ–¹æ¡ˆ**ï¼šå¹¶è¡Œ+ç®€åŒ–ç‰ˆï¼Œé¢„è®¡ **3-5åˆ†é’Ÿ**

### å®ç°æ­¥éª¤

1. **åˆ›å»ºæ‰¹é‡åˆ†æå¼•æ“**ï¼ˆ1å¤©ï¼‰
   - `src/strategies/batch_analyzer.py`
   - å¤ç”¨ç°æœ‰å•è‚¡ç¥¨åˆ†æé€»è¾‘
   - æ·»åŠ å¹¶è¡Œå¤„ç†

2. **åˆ›å»ºç»„åˆä¼˜åŒ–å™¨**ï¼ˆ1å¤©ï¼‰
   - `src/strategies/portfolio_optimizer.py`
   - åŸºäºè¯„åˆ†çš„æƒé‡åˆ†é…
   - å¯é€‰ï¼šå‡å€¼-æ–¹å·®ä¼˜åŒ–

3. **ä¿®æ”¹Webç•Œé¢**ï¼ˆ1å¤©ï¼‰
   - æ·»åŠ æ‰¹é‡åˆ†ææ¨¡å¼
   - æ·»åŠ è¿›åº¦æ¡å’Œç»“æœå±•ç¤º
   - æ·»åŠ è¶…é“¾æ¥è·³è½¬

4. **æµ‹è¯•ä¸ä¼˜åŒ–**ï¼ˆ1å¤©ï¼‰
   - æ€§èƒ½æµ‹è¯•
   - é”™è¯¯å¤„ç†
   - ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**æ€»è®¡**ï¼šçº¦4å¤©å®ŒæˆåŸºç¡€ç‰ˆæœ¬

---

## æ€»ç»“

### é—®é¢˜ä¸€ï¼šé¡¹ç›®æ·±åº¦

**å»ºè®®**ï¼šåœ¨å½“å‰é¡¹ç›®ä¸­å¢åŠ æ·±åº¦æ¨¡å—ï¼Œè€Œä¸æ˜¯æ–°å¼€é¡¹ç›®
- æ·»åŠ æ—¶åºé¢„æµ‹æ¨¡å‹ï¼ˆLSTM/Transformerï¼‰
- æ·»åŠ å¼ºåŒ–å­¦ä¹ äº¤æ˜“ç­–ç•¥
- ä¼˜åŒ–ç°æœ‰CAEæ¨¡å‹

### é—®é¢˜äºŒï¼šæ‰¹é‡åˆ†æ

**å¯è¡Œæ€§**ï¼šâœ… å®Œå…¨å¯è¡Œ
**éš¾åº¦**ï¼šâ­â­â­ï¼ˆä¸­ç­‰ï¼‰
**æ—¶é—´**ï¼š3-5åˆ†é’Ÿï¼ˆ30åªè‚¡ç¥¨ï¼Œå¹¶è¡Œå¤„ç†ï¼‰
**å¼€å‘æ—¶é—´**ï¼šçº¦4å¤©

**å…³é”®ä¼˜åŒ–ç‚¹**ï¼š
1. å¹¶è¡Œå¤„ç†ï¼ˆThreadPoolExecutorï¼‰
2. æ§åˆ¶å¹¶å‘æ•°ï¼ˆé¿å…APIé™æµï¼‰
3. ç®€åŒ–åˆ†ææµç¨‹ï¼ˆè·³è¿‡éƒ¨åˆ†å¯è§†åŒ–ï¼‰
4. ç»“æœç¼“å­˜ï¼ˆRedisæˆ–æ–‡ä»¶ï¼‰

---

**éœ€è¦æˆ‘å¸®ä½ å®ç°æ‰¹é‡åˆ†æåŠŸèƒ½å—ï¼Ÿæˆ‘å¯ä»¥ç›´æ¥ç¼–å†™ä»£ç ï¼**

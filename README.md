# VisionQuant-Pro

<div align="center">

**è®©AIå­¦ä¹ äººç±»äº¤æ˜“å‘˜çš„"çœ¼å…‰" | Teaching AI to See Like a Trader**

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
[![PyTorch](https://img.shields.io/badge/PyTorch-2.0+-orange.svg)](https://pytorch.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

*Kçº¿è§†è§‰å­¦ä¹  | å½¢æ€ç›¸ä¼¼åº¦æ£€ç´¢ | è¡Œä¸ºé‡‘èå­¦æ”¯æ’‘ | Top10å†å²å¯¹æ¯”*

</div>

---

## ğŸ¯ é¡¹ç›®å®šä½

**VisionQuant-Pro ä¸æ˜¯åˆä¸€ä¸ªé‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œè€Œæ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„"Kçº¿å½¢æ€è§†è§‰æ™ºèƒ½"é¡¹ç›®ã€‚**

### æ ¸å¿ƒåˆ›æ–°

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **ğŸ–¼ï¸ Top10å†å²å½¢æ€å¯¹æ¯”** | ç”¨æˆ·èƒ½ç›´è§‚çœ‹åˆ°"å½“å‰Kçº¿å’Œå“ªäº›å†å²å½¢æ€ç›¸ä¼¼"â€”â€”è¿™æ˜¯GAFå’Œçº¯æ•°å€¼æ¨¡å‹åšä¸åˆ°çš„ |
| **ğŸ“š è¡Œä¸ºé‡‘èå­¦æ”¯æ’‘** | å¸‚åœºç”±äººç±»è¡Œä¸ºé©±åŠ¨ï¼Œäººç±»æ˜¯è§†è§‰åŠ¨ç‰©ã€‚æˆ‘ä»¬å­¦ä¹ çš„æ˜¯"é›†ä½“è§†è§‰è®°å¿†" |
| **ğŸ” å¯è§£é‡Šçš„AIå†³ç­–** | ä¸æ˜¯é»‘ç›’é¢„æµ‹"æ¶¨/è·Œ"ï¼Œè€Œæ˜¯"è¿™ä¸ªå½¢æ€å†å²ä¸Š70%ä¼šæ¶¨ï¼Œçœ‹è¿™10ä¸ªä¾‹å­" |

### ä¸ºä»€ä¹ˆç”¨Kçº¿æˆªå›¾è€Œä¸æ˜¯GAFï¼Ÿ

> **Kçº¿æˆªå›¾çš„"ä¿¡æ¯ä¸¢å¤±"æ˜¯ä¸€ç§æœ‰ç›Šçš„æŠ½è±¡ï¼Œè€Œéç¼ºé™·ã€‚**

äººç±»äº¤æ˜“å‘˜çœ‹Kçº¿å›¾æ—¶ï¼Œå¹¶ä¸æ˜¯åœ¨ç²¾ç¡®è®¡ç®—"ä»Šå¤©æ¶¨äº†5.23%è¿˜æ˜¯5.24%"ã€‚ä»–ä»¬çœ‹çš„æ˜¯**å½¢æ€**â€”â€”ä¸Šæ¶¨æ˜¯æ¸©å’Œçš„è¿˜æ˜¯å¼ºåŠ¿çš„ã€æ”¯æ’‘ä½åœ¨å“ªé‡Œã€é˜»åŠ›ä½åœ¨å“ªé‡Œã€‚

CAEå­¦ä¹ çš„1024ç»´ç‰¹å¾æ­£æ˜¯è¿™ç§"å½¢æ€æ„ŸçŸ¥"ï¼Œè€Œé"æ•°å€¼æ‹Ÿåˆ"ã€‚

è¯¦ç»†è®ºè¿°è§: [è¡Œä¸ºé‡‘èå­¦ç†è®ºåŸºç¡€](docs/behavioral_finance_rationale.md)

---

## ğŸ“Š å½“å‰çŠ¶æ€

| ç»„ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| **Webç•Œé¢** | âœ… å¯ç”¨ | 40ä¸‡å¼ Kçº¿å›¾ + AttentionCAE |
| **AttentionCAEæ¨¡å‹** | âœ… å·²è®­ç»ƒ | 8å¤´æ³¨æ„åŠ›ï¼Œ5è½®è®­ç»ƒ |
| **FAISSç´¢å¼•** | âœ… å·²æ„å»º | 40ä¸‡å‘é‡ï¼Œæ¯«ç§’çº§æ£€ç´¢ |
| **Walk-ForwardéªŒè¯** | âœ… å¯ç”¨ | é˜²æ­¢æœªæ¥å‡½æ•°æ³„æ¼ |
| **å­¦æœ¯åˆ†æ”¯ (GAF)** | ğŸ“¦ ç‹¬ç«‹åˆ†æ”¯ | æ¶ˆèå®éªŒç”¨ï¼Œè§ `academic` åˆ†æ”¯ |

---

## ğŸ‡¨ğŸ‡³ æ¶æ„è¯´æ˜

```
                    VisionQuant-Pro æ¶æ„
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                               â”‚
      ä¸»çº¿ (main)                    å­¦æœ¯åˆ†æ”¯ (academic)
           â”‚                               â”‚
   Kçº¿æˆªå›¾ + AttentionCAE              GAF + ResNet
           â”‚                               â”‚
   - 40ä¸‡å¼ ç°æœ‰å›¾ç‰‡                   - æ¶ˆèå®éªŒç”¨
   - å·²è®­ç»ƒçš„æ¨¡å‹                    - è®ºæ–‡å¯¹ç…§ç»„
   - Top10éœ‡æ’¼å¯¹æ¯”                   - æŒ‰éœ€å¯ç”¨
           â”‚                               
     â†“ æ ¸å¿ƒæµç¨‹                      
           â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
   â”‚               â”‚
 Kçº¿æˆªå›¾      AttentionCAE
 (matplotlib)   (CNN+8å¤´æ³¨æ„åŠ›)
   â”‚               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     FAISSæ£€ç´¢
     (æ¯«ç§’çº§)
           â”‚
    Top10ç›¸ä¼¼å½¢æ€
           â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚        â”‚        â”‚
èƒœç‡ç»Ÿè®¡  è½¨è¿¹æ¨æ¼”  V+F+Qè¯„åˆ†
  â”‚        â”‚        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      AIæŠ•èµ„å»ºè®®
```

<details>
<summary>ç‚¹å‡»å±•å¼€ç‰ˆæœ¬æ¼”è¿›å›¾</summary>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        VERSION EVOLUTION                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  v1.0 (2026-01-05)          v1.5 (2026-01-10) [å½“å‰]             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚  Kçº¿æˆªå›¾                     Kçº¿æˆªå›¾                              â”‚
â”‚     â”‚                           â”‚                                 â”‚
â”‚     â†“                           â†“                                 â”‚
â”‚  QuantCAE                   AttentionCAE                          â”‚
â”‚  (4å±‚CNN)                   (CAE + 8å¤´æ³¨æ„åŠ›)                     â”‚
â”‚     â”‚                           â”‚                                 â”‚
â”‚     â†“                           â†“                                 â”‚
â”‚  FAISSæ£€ç´¢                  FAISSæ£€ç´¢                             â”‚
â”‚     â”‚                           â”‚                                 â”‚
â”‚     â†“                           â†“                                 â”‚
â”‚  èƒœç‡é¢„æµ‹                    V+F+Qå¤šå› å­è¯„åˆ†                       â”‚
â”‚                                                                   â”‚
â”‚                                                                   â”‚
â”‚                     å­¦æœ¯åˆ†æ”¯ (academic)                           â”‚
â”‚                     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚                     GAFå›¾åƒ + ResNet                              â”‚
â”‚                          â†“                                        â”‚
â”‚                     æ¶ˆèå®éªŒå¯¹ç…§ç»„                                 â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</details>
â”‚                               â†“                                   â”‚
â”‚                      Cross-Modal Attention                        â”‚
â”‚                               â”‚                                   â”‚
â”‚                               â†“                                   â”‚
â”‚                      Triple Barrieré¢„æµ‹                           â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–°å¢ä»£ç é‡ç»Ÿè®¡

| æ–‡ä»¶ | åŠŸèƒ½ | ä»£ç è¡Œæ•° |
|------|------|---------|
| `gaf_encoder.py` | GAFå›¾åƒç¼–ç  | 491 |
| `triple_barrier.py` | Triple Barrieræ ‡ç­¾ | 549 |
| `walk_forward.py` | Walk-ForwardéªŒè¯ | 638 |
| `temporal_encoder.py` | TCN+Attentionæ—¶åºç¼–ç  | 579 |
| `dual_stream_network.py` | åŒæµèåˆç½‘ç»œ | 711 |
| `backtrader_strategy.py` | Backtraderç­–ç•¥é›†æˆ | 555 |
| `train_dual_stream.py` | è®­ç»ƒè„šæœ¬ | 523 |
| `grad_cam.py` | Grad-CAMå¯è§†åŒ– | 517 |
| **æ€»è®¡** | | **~4,600** |

</details>

---

## ğŸ”¥ æ ¸å¿ƒåŠŸèƒ½

### 1. Top10 å†å²å½¢æ€å¯¹æ¯”ï¼ˆç‹¬å®¶åŠŸèƒ½ï¼‰

å½“ä½ è¾“å…¥ä¸€åªè‚¡ç¥¨ï¼Œç³»ç»Ÿä¼šï¼š
1. ç”Ÿæˆå½“å‰Kçº¿å›¾
2. åœ¨40ä¸‡å¼ å†å²Kçº¿ä¸­æœç´¢æœ€ç›¸ä¼¼çš„10å¼ 
3. **ç›´è§‚å±•ç¤ºè¿™10å¼ å†å²å½¢æ€åŠå…¶åç»­èµ°åŠ¿**

è¿™æ˜¯ç”¨æˆ·æœ€å–œæ¬¢çš„åŠŸèƒ½â€”â€”ä¸æ˜¯å‘Šè¯‰ä½ "AIé¢„æµ‹æ¶¨"ï¼Œè€Œæ˜¯è®©ä½ **äº²çœ¼çœ‹åˆ°**å†å²ä¸Šç›¸ä¼¼å½¢æ€çš„ç»“æœã€‚

### 2. V+F+Q å¤šå› å­è¯„åˆ†

```
æ€»åˆ† = V(è§†è§‰) + F(è´¢åŠ¡) + Q(é‡åŒ–)
     = [0-3åˆ†] + [0-4åˆ†] + [0-3åˆ†]
     = 0-10åˆ†

â‰¥7åˆ† â†’ BUYï¼ˆä¹°å…¥ï¼‰
5-6åˆ† â†’ WAITï¼ˆè§‚æœ›ï¼‰
<5åˆ† â†’ SELLï¼ˆå–å‡ºï¼‰
```

### 3. AttentionCAE å½¢æ€å­¦ä¹ 

8å¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œèƒ½å¤Ÿæ•æ‰ï¼š
- å¤´è‚©é¡¶çš„"å·¦è‚©"å’Œ"å³è‚©"çš„å¯¹ç§°æ€§
- åŒåº•å½¢æ€ä¸­ä¸¤ä¸ªè°·åº•çš„ç›¸ä¼¼æ€§
- ä¸Šå‡ä¸‰è§’å½¢ä¸­å¤šä¸ªè§¦é¡¶ç‚¹çš„å…³ç³»

### 4. Walk-Forward ä¸¥æ ¼å›æµ‹

é˜²æ­¢æœªæ¥å‡½æ•°æ³„æ¼çš„æ»šåŠ¨çª—å£éªŒè¯ï¼š

```
|------ è®­ç»ƒ (3å¹´) ------|-- éªŒè¯ (6æœˆ) --|-- æµ‹è¯• (6æœˆ) --|
                        |
                        â†“ æ»šåŠ¨
|------ è®­ç»ƒ (3å¹´) ------|-- éªŒè¯ (6æœˆ) --|-- æµ‹è¯• (6æœˆ) --|
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
VisionQuant-Pro/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ attention_cae.py         # â­ æ ¸å¿ƒï¼šAttentionCAEæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ autoencoder.py           # åŸºç¡€QuantCAE
â”‚   â”‚   â””â”€â”€ vision_engine.py         # FAISSç›¸ä¼¼åº¦æœç´¢å¼•æ“
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ data_loader.py           # è‚¡ç¥¨æ•°æ®åŠ è½½å™¨ (akshare)
â”‚   â”œâ”€â”€ strategies/
â”‚   â”‚   â”œâ”€â”€ factor_mining.py         # V+F+Qå¤šå› å­è¯„åˆ†
â”‚   â”‚   â”œâ”€â”€ fundamental.py           # è´¢åŠ¡æ•°æ®è·å–
â”‚   â”‚   â”œâ”€â”€ portfolio_optimizer.py   # Markowitzç»„åˆä¼˜åŒ–
â”‚   â”‚   â””â”€â”€ batch_analyzer.py        # æ‰¹é‡åˆ†æå¼•æ“
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ visualizer.py            # Top10å¯¹æ¯”å›¾ç”Ÿæˆ
â”‚       â”œâ”€â”€ walk_forward.py          # Walk-ForwardéªŒè¯æ¡†æ¶
â”‚       â””â”€â”€ attention_visualizer.py  # æ³¨æ„åŠ›æƒé‡å¯è§†åŒ–
â”œâ”€â”€ web/
â”‚   â””â”€â”€ app.py                       # Streamlit Webç•Œé¢
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ images/                      # 40ä¸‡å¼ Kçº¿æˆªå›¾ (1.5GB)
â”‚   â”œâ”€â”€ models/                      # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚   â””â”€â”€ indices/                     # FAISSç´¢å¼•æ–‡ä»¶
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ behavioral_finance_rationale.md  # è¡Œä¸ºé‡‘èå­¦ç†è®º
â”‚   â”œâ”€â”€ å¸¸è§é—®é¢˜FAQ.md
â”‚   â””â”€â”€ åœ¨çº¿éƒ¨ç½²æ•™ç¨‹.md
â””â”€â”€ requirements.txt

# å­¦æœ¯åˆ†æ”¯ (git checkout academic)
â”œâ”€â”€ src/data/gaf_encoder.py          # GAFå›¾åƒç¼–ç 
â”œâ”€â”€ src/models/dual_stream_network.py # åŒæµç½‘ç»œ
â””â”€â”€ scripts/train_dual_stream.py      # è®­ç»ƒè„šæœ¬
```

---

## Quick Start

### Installation

```bash
git clone https://github.com/panyisheng095-ux/VisionQuant-Pro.git
cd VisionQuant-Pro

python -m venv venv
source venv/bin/activate  # Linux/Mac

pip install -r requirements.txt
```

### Data Preparation

```bash
# Generate GAF images and labels
python scripts/prepare_data.py --symbols 600519 000858 601899 --window 60
```

### Training

```bash
# Train dual-stream network with Walk-Forward validation
python scripts/train_dual_stream.py \
    --data_dir data \
    --gaf_dir data/gaf_images \
    --batch_size 32 \
    --num_epochs 50
```

### Web Interface

```bash
python run.py  # or: PYTHONPATH=. streamlit run web/app.py
```

---

## ğŸ“Š ä¸å…¶ä»–æ–¹æ³•å¯¹æ¯”

| ç»´åº¦ | ä¼ ç»Ÿé‡åŒ– | çº¯æ•°å€¼CNN | RD-Agent | **VisionQuant** |
|------|---------|----------|----------|-----------------|
| è¾“å…¥ | æ•°å€¼å› å­ | OHLCV | æ•°å€¼+æ–‡æœ¬ | **Kçº¿æˆªå›¾** |
| å¯è§£é‡Šæ€§ | é«˜ | ä½ | ä¸­ | **â­ é«˜ (Top10å¯¹æ¯”)** |
| äººç±»ç›´è§‰å¯¹é½ | ä½ | ä½ | ä¸­ | **â­ é«˜ (å½¢æ€å¯è§†)** |
| ç‹¬ç‰¹æ€§ | ä½ | ä¸­ | ä¸­ | **â­ é«˜ (è§†è§‰éœ‡æ’¼)** |
| ç†è®ºæ”¯æ’‘ | ç»Ÿè®¡å­¦ | æ·±åº¦å­¦ä¹  | Agent | **è¡Œä¸ºé‡‘èå­¦** |

---

## ğŸ“š ç†è®ºåŸºç¡€

### è¡Œä¸ºé‡‘èå­¦æ”¯æ’‘

> "å¸‚åœºç”±äººç±»è¡Œä¸ºé©±åŠ¨ï¼Œäººç±»æ˜¯è§†è§‰åŠ¨ç‰©ã€‚"

| è¡Œä¸ºåå·® | åœ¨Kçº¿å›¾ä¸­çš„ä½“ç° | VisionQuantå¦‚ä½•åˆ©ç”¨ |
|---------|----------------|-------------------|
| **é”šå®šæ•ˆåº”** | å†å²é«˜/ä½ç‚¹æˆä¸ºå¿ƒç†é”šç‚¹ | å­¦ä¹ è§†è§‰ä¸Šæ˜¾è‘—çš„ä»·ä½åŒºåŸŸ |
| **ç¾Šç¾¤æ•ˆåº”** | çªç ´å½¢æ€è§¦å‘é›†ä½“è¡ŒåŠ¨ | è¯†åˆ«è§¦å‘é›†ä½“è¡ŒåŠ¨çš„è§†è§‰æ¨¡å¼ |
| **ä»£è¡¨æ€§å¯å‘** | "è¿™å½¢æ€åƒå¤´è‚©é¡¶ï¼Œä¼šè·Œ" | å½¢å¼åŒ–ä¸ºç›¸ä¼¼åº¦æœç´¢ |

### ä¿¡æ¯è®ºè§†è§’

```
Kçº¿æˆªå›¾ä¿¡æ¯é‡:  224Ã—224Ã—3 = 150,528 åƒç´ å€¼
åŸå§‹æ•°å€¼ä¿¡æ¯é‡: 5 Ã— Nå¤© = 5N ä¸ªæ•°å€¼

Kçº¿æˆªå›¾ â‰  ä¿¡æ¯ä¸¢å¤±
Kçº¿æˆªå›¾ = æœ‰ç›Šçš„æŠ½è±¡ï¼ˆä¸“æ³¨å½¢æ€ï¼Œè¿‡æ»¤å™ªå£°ï¼‰
```

è¯¦ç»†è®ºè¿°: [è¡Œä¸ºé‡‘èå­¦ç†è®ºåŸºç¡€](docs/behavioral_finance_rationale.md)

---

## Performance Notes

### Expected Results
- **Classification Accuracy**: 45-55% (3-class, beating random 33%)
- **Return Prediction MAE**: 2-4%
- **Alpha vs Buy-and-Hold**: Varies by market condition

### Disclaimer
- **This is a research project, NOT investment advice**
- Past performance does not guarantee future results
- Quantitative trading involves significant risk

---

## ğŸ—ºï¸ è·¯çº¿å›¾

### v1.6 (è¿‘æœŸ)
- [ ] Vision Transformer (ViT) æ›¿æ¢CNNéª¨å¹²
- [ ] å¯¹æ¯”å­¦ä¹  (SimCLR) é¢„è®­ç»ƒ
- [ ] æ›´å¤šè‚¡ç¥¨æ•°æ®è¦†ç›–

### v2.0 (ä¸­æœŸ)
- [ ] å¤šæ—¶é—´æ¡†æ¶èåˆ (æ—¥çº¿ + å‘¨çº¿ + æœˆçº¿)
- [ ] å®ç›˜äº¤æ˜“APIé›†æˆ
- [ ] å¤šå¸‚åœºæ”¯æŒ (Aè‚¡ + æ¸¯è‚¡ + ç¾è‚¡)

### å­¦æœ¯æ–¹å‘ (academicåˆ†æ”¯)
- [ ] GAF vs Kçº¿æˆªå›¾æ¶ˆèå®éªŒ
- [ ] è®ºæ–‡æŠ•ç¨¿å‡†å¤‡
- [ ] æ›´å¤šåŸºçº¿å¯¹æ¯”

---

## ğŸ“– å¼•ç”¨

```bibtex
@software{visionquant-pro,
  title = {VisionQuant-Pro: K-Line Visual Pattern Learning for Quantitative Trading},
  author = {Pan, Yisheng},
  year = {2026},
  url = {https://github.com/panyisheng095-ux/VisionQuant-Pro}
}
```

---

## ğŸ“š å‚è€ƒæ–‡çŒ®

- Kahneman, D., & Tversky, A. (1979). Prospect Theory. *Econometrica*.
- Barberis, N., & Thaler, R. (2003). A Survey of Behavioral Finance. *Handbook of the Economics of Finance*.
- Lo, A. W. (2004). The Adaptive Markets Hypothesis. *Journal of Portfolio Management*.
- LÃ³pez de Prado, M. (2018). Advances in Financial Machine Learning. *Wiley*.

---

## Version History

### Detailed Changelog

---

### v2.0.0 (2026-01-13) - Major Architecture Overhaul

**This is a complete rewrite focused on academic rigor and industrial applicability.**

#### âš¡ Core Architecture Changes

| Component | v1.0 | v2.0 | Improvement |
|-----------|------|------|-------------|
| **Image Encoding** | K-line screenshot (matplotlib) | **GAF (Gramian Angular Field)** | æ•°å­¦ä¸¥è°¨çš„æ—¶åºâ†’å›¾åƒè½¬æ¢ï¼Œä¿ç•™æ—¶é—´ä¾èµ–æ€§ |
| **Network** | Single-stream CAE | **Dual-Stream (Vision+Temporal)** | åŒæ—¶åˆ©ç”¨è§†è§‰ç©ºé—´ä¿¡æ¯å’Œæ—¶åºåŠ¨æ€ä¿¡æ¯ |
| **Vision Encoder** | Custom 4-layer CNN | **ResNet18 (pretrained)** | ImageNeté¢„è®­ç»ƒï¼Œæ›´å¼ºçš„ç‰¹å¾æå–èƒ½åŠ› |
| **Temporal Encoder** | None | **TCN + Self-Attention** | æ•æ‰é•¿è·ç¦»æ—¶åºä¾èµ– |
| **Fusion Method** | None | **Cross-Modal Attention** | å¯å­¦ä¹ çš„æ¨¡æ€èåˆæƒé‡ |

#### ğŸ“Š Data & Labels

| Component | v1.0 | v2.0 | Improvement |
|-----------|------|------|-------------|
| **Input Data** | Kçº¿æˆªå›¾ (PNG) | **GAF 3é€šé“å›¾åƒ + åŸå§‹OHLCV** | æ— ä¿¡æ¯ä¸¢å¤±ï¼Œç²¾ç¡®æ•°å€¼ä¿ç•™ |
| **Label Definition** | ç®€å•æ¶¨è·Œ (+5å¤©æ”¶ç›Šç‡>0) | **Triple Barrier Method** | ä¸šç•Œæ ‡å‡†ï¼Œè€ƒè™‘æ­¢ç›ˆ/æ­¢æŸ/æ—¶é—´é™åˆ¶ |
| **Label Classes** | 2ç±» (æ¶¨/è·Œ) | **3ç±» (çœ‹æ¶¨/éœ‡è¡/çœ‹è·Œ)** | æ›´ç¬¦åˆå®é™…äº¤æ˜“å†³ç­– |

#### ğŸ”¬ Training & Validation

| Component | v1.0 | v2.0 | Improvement |
|-----------|------|------|-------------|
| **Data Split** | éšæœº 90/10 | **Walk-Forward æ»šåŠ¨éªŒè¯** | é˜²æ­¢æœªæ¥å‡½æ•°æ³„éœ² |
| **Validation** | å•æ¬¡éªŒè¯é›† | **æ»šåŠ¨çª—å£å¤šæ¬¡éªŒè¯** | æ›´å¯é çš„æ³›åŒ–èƒ½åŠ›è¯„ä¼° |
| **Training Loss** | MSEé‡å»ºæŸå¤± | **åˆ†ç±»CE + å›å½’MSE + å¯¹æ¯”æŸå¤±** | å¤šä»»åŠ¡è”åˆä¼˜åŒ– |

#### ğŸ“ˆ Backtesting

| Component | v1.0 | v2.0 | Improvement |
|-----------|------|------|-------------|
| **Framework** | è‡ªå†™ç®€å•å›æµ‹ | **Backtrader ä¸“ä¸šæ¡†æ¶** | å·¥ä¸šçº§å›æµ‹èƒ½åŠ› |
| **Metrics** | ç®€å•æ”¶ç›Šç‡ | **Sharpe/Calmar/MaxDD/èƒœç‡/ç›ˆäºæ¯”** | å®Œæ•´ç»©æ•ˆè¯„ä¼° |
| **Look-ahead Bias** | æœªä¸¥æ ¼é˜²èŒƒ | **ä¸¥æ ¼æ—¶é—´éš”ç¦»** | å¯ä¿¡çš„å›æµ‹ç»“æœ |

#### ğŸ¯ Explainability

| Component | v1.0 | v2.0 | Improvement |
|-----------|------|------|-------------|
| **Model Interpretation** | Attentionæƒé‡çƒ­åŠ›å›¾ | **Grad-CAM + Attention + æ¨¡æ€æƒé‡** | å¤šå±‚æ¬¡å¯è§£é‡Šæ€§ |
| **Visualization** | å•ä¸€æ³¨æ„åŠ›å›¾ | **GAFçƒ­åŠ›å›¾ + æ—¶åºæ³¨æ„åŠ› + èåˆæƒé‡** | å®Œæ•´çš„å†³ç­–è§£é‡Šé“¾ |

#### ğŸ“ New Files Added (v2.0)

```
src/data/
â”œâ”€â”€ gaf_encoder.py          # [NEW] GAFå›¾åƒç¼–ç å™¨ (491 lines)
â””â”€â”€ triple_barrier.py       # [NEW] Triple Barrieræ ‡ç­¾ (549 lines)

src/models/
â”œâ”€â”€ temporal_encoder.py     # [NEW] TCN+Attentionæ—¶åºç¼–ç å™¨ (579 lines)
â””â”€â”€ dual_stream_network.py  # [NEW] åŒæµèåˆç½‘ç»œ (711 lines)

src/strategies/
â””â”€â”€ backtrader_strategy.py  # [NEW] Backtraderç­–ç•¥ (555 lines)

src/utils/
â”œâ”€â”€ walk_forward.py         # [NEW] Walk-ForwardéªŒè¯ (638 lines)
â””â”€â”€ grad_cam.py             # [NEW] Grad-CAMå¯è§†åŒ– (517 lines)

scripts/
â””â”€â”€ train_dual_stream.py    # [NEW] åŒæµç½‘ç»œè®­ç»ƒè„šæœ¬ (523 lines)
```

**Total new code: ~4,600 lines**

---

### v1.5.0 (2026-01-10) - Attention Enhancement

#### Changes from v1.0
- **AttentionCAE**: åœ¨CAEæœ«ç«¯æ·»åŠ 8å¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶
- **Multi-factor Scoring**: V(è§†è§‰)+F(è´¢åŠ¡)+Q(é‡åŒ–)ä¸‰å› å­è¯„åˆ†
- **Batch Analysis**: æ”¯æŒ30åªè‚¡ç¥¨æ‰¹é‡åˆ†æ
- **Portfolio Optimization**: Markowitzå‡å€¼-æ–¹å·®ä¼˜åŒ–
- **AI Agent**: é›†æˆGoogle Geminiå¤§æ¨¡å‹è¾…åŠ©åˆ†æ

#### Files Added (v1.5)
```
src/models/attention_cae.py        # æ³¨æ„åŠ›å¢å¼ºCAE
src/strategies/batch_analyzer.py   # æ‰¹é‡åˆ†æå¼•æ“
src/strategies/portfolio_optimizer.py  # ç»„åˆä¼˜åŒ–å™¨
src/utils/attention_visualizer.py  # æ³¨æ„åŠ›å¯è§†åŒ–
```

---

### v1.0.0 (2026-01-05) - Initial Release

#### Core Features
- **QuantCAE**: 4å±‚å·ç§¯è‡ªç¼–ç å™¨ï¼Œå­¦ä¹ Kçº¿å›¾å½¢æ€
- **FAISS Search**: å‘é‡ç›¸ä¼¼åº¦æœç´¢ï¼Œæ¯«ç§’çº§æ£€ç´¢
- **Streamlit Web**: äº¤äº’å¼Webç•Œé¢
- **åŸºç¡€å›æµ‹**: ç®€å•çš„ä¹°å…¥æŒæœ‰å¯¹æ¯”

#### Architecture (v1.0)
```
Kçº¿æˆªå›¾ (matplotlib)
    â†“
QuantCAE (4-layer CNN)
    â†“
FAISS Index (L2 distance)
    â†“
Top-K Similar Patterns
    â†“
Win Rate Prediction
```

#### Limitations Identified
1. âŒ Kçº¿æˆªå›¾ä¸¢å¤±ç²¾ç¡®æ•°å€¼ä¿¡æ¯
2. âŒ çº¯CNNæ— æ³•æ•æ‰é•¿è·ç¦»ä¾èµ–
3. âŒ ç®€å•æ¶¨è·Œæ ‡ç­¾ä¸ç¬¦åˆå®é™…äº¤æ˜“
4. âŒ éšæœºæ•°æ®åˆ’åˆ†å¯¼è‡´æœªæ¥å‡½æ•°é£é™©
5. âŒ ç¼ºä¹ä¸¥è°¨çš„å›æµ‹æ¡†æ¶

---

### Version Comparison Summary

```
v1.0 Architecture:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Kçº¿æˆªå›¾ â†’ CAE Encoder â†’ FAISS â†’ Win Rate â†’ Simple Score

v1.5 Architecture:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Kçº¿æˆªå›¾ â†’ AttentionCAE â†’ FAISS â†’ Win Rate â†’ Multi-Factor Score
                â†‘                              â†‘
          + Attention                    + V+F+Q Factors

v2.0 Architecture:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         â”Œâ†’ GAF Image â†’ ResNet18 â”€â”€â”€â”€â”€â”€â”
OHLCV â”€â”€â”€â”¤                              â”œâ†’ Cross-Modal Attention â†’ Triple Barrier
         â””â†’ Sequence  â†’ TCN+Attention â”€â”˜
```

---

## License

MIT License - see [LICENSE](LICENSE)

---

<div align="center">

**If you find this project useful, please give it a â­ Star!**

Made with â¤ï¸ by [panyisheng095-ux](https://github.com/panyisheng095-ux)

</div>
